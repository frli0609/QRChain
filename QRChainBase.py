import numpy as np
import scipy
import sympy
import matplotlib.pyplot as plt
import pandas as pd

sigma_1 = np.array([[1],
                    [0],
                    [0],
                    [0]])
sigma_2 = np.array([[0],
                   [1],
                   [0],
                   [0]])
sigma_3 = np.array([[0],
                    [0],
                    [1],
                    [0]])
sigma_4 = np.array([[0, 0, 0, 0],
                    [0, 0, -1, 0],
                    [0, 1, 0, 0],
                    [0, 0, 0, 0]])
sigma_5 = np.array([[0, 0, 1, 0],
                    [0, 0, 0, 0],
                    [-1, 0, 0, 0],
                    [0, 0, 0, 0]])
sigma_6 = np.array([[0, -1, 0, 0],
                    [1, 0, 0, 0],
                    [0, 0, 0, 0],
                    [0, 0, 0, 0]])

X_0 = np.zeros((48, 1))
X_1 = np.zeros((48, 1))

# 工序1
loc1 = np.array([[50, 0, 0],
                [-50, -100, 0],
                [-50, 100, 0],
                [80, -80, -60],
                [80, 80, -60],
                [0, -125, -60]])

normal1 = np.array([[0, 0, 1],
                    [0, 0, 1],
                    [0, 0, 1],
                    [0.9487, 0, -0.3162],
                    [0.9487, 0, -0.3162],
                    [0.2425, -0.9701, 0]])

error1 = np.array([[0.1, 0, -0.1],
                   [0, 0, 0.05],
                   [0, -0.2, 0],
                   [0, 0, -0.1],
                   [0.05, 0, 0.1],
                   [0.1, 0, 0]])

# 工序2
loc2 = np.array([[-50, 0, 0],
                 [50, 100, 0],
                 [50, -100, 0],
                 [-80, 80, -60],
                 [-80, -80, -60],
                 [0, 125, -60]])

normal2 = np.array([[0, 0, 1],
                    [0, 0, 1],
                    [0, 0, 1],
                    [-0.9487, 0, 0.3162],
                    [-0.9487, 0, 0.3162],
                    [-0.2425, 0.9701, 0]])

error2 = np.array([[0, 0, 0.15],
                   [0.1, 0, -0.1],
                   [0.1, 0, 0],
                   [0, -0.3, 0.1],
                   [0, -0.3, 0],
                   [0, 0, 0.05]])

# 工序3
loc3 = np.array([[50, 0, 0],
                 [-50, -100, 0],
                 [-50, 100, 0],
                 [80, -80, -50],
                 [80, 80, -50],
                 [0, -125, -50]])

normal3 = np.array([[0, 0, 1],
                    [0, 0, 1],
                    [0, 0, 1],
                    [0.9487, 0, -0.3162],
                    [0.9487, 0, -0.3162],
                    [0.2425, -0.9701, 0]])

error3 = np.array([[0.2, 0, 0.1],
                   [0, 0, -0.05],
                   [0, -0.2, 0],
                   [0, 0, -0.1],
                   [0, 0, 0.1],
                   [0, 0, 0.1]])

# N_prime = np.diag(normal1[0], normal1[1], normal1[2], normal1[3], normal1[4], normal1[5])
RtoR = np.identity(3)
print(RtoR)
A=np.tile(RtoR, 6)
print(A)
R_great = np.diag(A)
# S_3_1 = -np.dot(N_prime,R_great)
print(R_great)